name: test

vars:
  SCHEME: file://
  BASE_DIR: ./tests/descriptors

configuration:
  foo: "global-outer"

sources:
  - id: source-1
    descriptor: "{{ SCHEME }}{{ BASE_DIR }}/source.yml"
    runtime: 10628aa2-66ca-4fda-8d5c-d7de63764bcc

  - id: source-2
    descriptor: "{{ SCHEME }}{{    BASE_DIR }}/source.yml"

  - id: source-composite
    descriptor: "{{ SCHEME }}{{ BASE_DIR   }}/source-composite.yml"
    runtime: e051658a-0cd6-4cef-8b08-0d0f17d3cc5d


operators:
  - id: operator-1
    descriptor: "{{ SCHEME }}{{BASE_DIR }}/operator.yml"

  - id: operator-2
    descriptor: "{{ SCHEME }}{{ BASE_DIR}}/operator.yml"

  - id: operator-composite
    descriptor: "{{ SCHEME }}{{BASE_DIR}}/operator-composite.yml"
    configuration:
      quux: "global-inner"
    runtime: 6a16a7ba-ec2d-4bb8-b303-7683e5477900


sinks:
  - id: sink-1
    descriptor: "{{ SCHEME }}{{ BASE_DIR }}/sink.yml"

  - id: sink-2
    descriptor: "{{ SCHEME }}{{ BASE_DIR }}/sink.yml"
    runtime: 5f7a170d-cfaf-4f7a-971e-6c3e63c50e1e

  - id: sink-composite
    descriptor: "{{ SCHEME }}{{ BASE_DIR }}/sink-composite.yml"
    runtime: 25270228-9cb1-4e6e-988c-00769622359f


links:
  - from:
      node: source-1
      output: source-out
    to:
      node: operator-1
      input: operator-in
  - from:
      node: operator-1
      output: operator-out
    to:
      node: sink-1
      input: sink-in

  - from:
      node: source-2
      output: source-out
    to:
      node: operator-2
      input: operator-in
  - from:
      node: operator-2
      output: operator-out
    to:
      node: sink-2
      input: sink-in

  - from:
      node: source-composite
      output: source-composite-out-1
    to:
      node: operator-composite
      input: operator-composite-in-1

  - from:
      node: source-composite
      output: source-composite-out-2
    to:
      node: operator-composite
      input: operator-composite-in-2

  - from:
      node: operator-composite
      output: operator-composite-out-1
    to:
      node: sink-composite
      input: sink-composite-in-1

  - from:
      node: operator-composite
      output: operator-composite-out-2
    to:
      node: sink-composite
      input: sink-composite-in-2
